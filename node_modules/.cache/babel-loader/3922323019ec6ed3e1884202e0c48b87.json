{"ast":null,"code":"import { defineComponent, openBlock, createBlock, Transition, mergeProps, unref, toHandlers, withCtx, renderSlot } from 'vue';\nimport '../../../hooks/index.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElCollapseTransition\"\n});\n\nconst _sfc_main = /* @__PURE__ */defineComponent({ ...__default__,\n\n  setup(__props) {\n    const ns = useNamespace(\"collapse-transition\");\n    const on = {\n      beforeEnter(el) {\n        if (!el.dataset) el.dataset = {};\n        el.dataset.oldPaddingTop = el.style.paddingTop;\n        el.dataset.oldPaddingBottom = el.style.paddingBottom;\n        el.style.maxHeight = 0;\n        el.style.paddingTop = 0;\n        el.style.paddingBottom = 0;\n      },\n\n      enter(el) {\n        el.dataset.oldOverflow = el.style.overflow;\n\n        if (el.scrollHeight !== 0) {\n          el.style.maxHeight = `${el.scrollHeight}px`;\n          el.style.paddingTop = el.dataset.oldPaddingTop;\n          el.style.paddingBottom = el.dataset.oldPaddingBottom;\n        } else {\n          el.style.maxHeight = 0;\n          el.style.paddingTop = el.dataset.oldPaddingTop;\n          el.style.paddingBottom = el.dataset.oldPaddingBottom;\n        }\n\n        el.style.overflow = \"hidden\";\n      },\n\n      afterEnter(el) {\n        el.style.maxHeight = \"\";\n        el.style.overflow = el.dataset.oldOverflow;\n      },\n\n      beforeLeave(el) {\n        if (!el.dataset) el.dataset = {};\n        el.dataset.oldPaddingTop = el.style.paddingTop;\n        el.dataset.oldPaddingBottom = el.style.paddingBottom;\n        el.dataset.oldOverflow = el.style.overflow;\n        el.style.maxHeight = `${el.scrollHeight}px`;\n        el.style.overflow = \"hidden\";\n      },\n\n      leave(el) {\n        if (el.scrollHeight !== 0) {\n          el.style.maxHeight = 0;\n          el.style.paddingTop = 0;\n          el.style.paddingBottom = 0;\n        }\n      },\n\n      afterLeave(el) {\n        el.style.maxHeight = \"\";\n        el.style.overflow = el.dataset.oldOverflow;\n        el.style.paddingTop = el.dataset.oldPaddingTop;\n        el.style.paddingBottom = el.dataset.oldPaddingBottom;\n      }\n\n    };\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Transition, mergeProps({\n        name: unref(ns).b()\n      }, toHandlers(on)), {\n        default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n        _: 3\n      }, 16, [\"name\"]);\n    };\n  }\n\n});\n\nvar CollapseTransition = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue\"]]);\n\nexport { CollapseTransition as default };","map":{"version":3,"mappings":";;;;;mCASc;EACZA,IAAM;AADM;;;;;IAIR,WAAKC,aAAa,qBAAb,CAAL;IAEN,MAAMC,EAAK;MACTC,YAAYC,EAAZ,EAAiC;QAC/B,IAAI,CAACA,EAAG,QAAR,EAAiBA,GAAGC,OAAH,GAAa,EAAb;QAEdD,WAAQE,aAAR,GAAwBF,GAAGG,KAAH,CAASC,UAAjC;QACAJ,WAAQK,gBAAR,GAA2BL,GAAGG,KAAH,CAASG,aAApC;QAEHN,GAAGG,KAAH,CAASI,SAAT,GAAqB,CAArB;QACAP,GAAGG,KAAH,CAASC,UAAT,GAAsB,CAAtB;QACAJ,GAAGG,KAAH,CAASG,aAAT,GAAyB,CAAzB;MACF,CAVS;;MAYTE,MAAMR,EAAN,EAA2B;QACtBA,WAAQS,WAAR,GAAsBT,GAAGG,KAAH,CAASO,QAA/B;;QACC,OAAGC,YAAH,KAAoB,CAApB,EAAuB;UACtBX,SAAMO,SAAN,GAAkB,GAAGP,EAAG,iBAAxB;UACAA,SAAMI,UAAN,GAAmBJ,GAAGC,OAAH,CAAWC,aAA9B;UACAF,SAAMM,aAAN,GAAsBN,GAAGC,OAAH,CAAWI,gBAAjC;QACE,CAJH,MAIG;UACLL,GAAGG,KAAH,CAASI,SAAT,GAAqB,CAArB;UACGP,SAAMI,UAAN,GAAmBJ,GAAGC,OAAH,CAAWC,aAA9B;UACAF,SAAMM,aAAN,GAAsBN,GAAGC,OAAH,CAAWI,gBAAjC;QACL;;QAEAL,GAAGG,KAAH,CAASO,QAAT,GAAoB,QAApB;MACF,CAzBS;;MA2BTE,WAAWZ,EAAX,EAAgC;QAC9BA,GAAGG,KAAH,CAASI,SAAT,GAAqB,EAArB;QACGP,SAAMU,QAAN,GAAiBV,GAAGC,OAAH,CAAWQ,WAA5B;MACL,CA9BS;;MAgCTI,YAAYb,EAAZ,EAAiC;QAC/B,IAAI,CAACA,EAAG,QAAR,EAAiBA,GAAGC,OAAH,GAAa,EAAb;QACdD,WAAQE,aAAR,GAAwBF,GAAGG,KAAH,CAASC,UAAjC;QACAJ,WAAQK,gBAAR,GAA2BL,GAAGG,KAAH,CAASG,aAApC;QACAN,WAAQS,WAAR,GAAsBT,GAAGG,KAAH,CAASO,QAA/B;QAEAV,SAAMO,SAAN,GAAkB,GAAGP,EAAG,iBAAxB;QACHA,GAAGG,KAAH,CAASO,QAAT,GAAoB,QAApB;MACF,CAxCS;;MA0CTI,MAAMd,EAAN,EAA2B;QACrB,OAAGW,YAAH,KAAoB,CAApB,EAAuB;UACzBX,GAAGG,KAAH,CAASI,SAAT,GAAqB,CAArB;UACAP,GAAGG,KAAH,CAASC,UAAT,GAAsB,CAAtB;UACAJ,GAAGG,KAAH,CAASG,aAAT,GAAyB,CAAzB;QACF;MACF,CAhDS;;MAkDTS,WAAWf,EAAX,EAAgC;QAC9BA,GAAGG,KAAH,CAASI,SAAT,GAAqB,EAArB;QACGP,SAAMU,QAAN,GAAiBV,GAAGC,OAAH,CAAWQ,WAA5B;QACAT,SAAMI,UAAN,GAAmBJ,GAAGC,OAAH,CAAWC,aAA9B;QACAF,SAAMM,aAAN,GAAsBN,GAAGC,OAAH,CAAWI,gBAAjC;MACL;;IAvDS,CAAX","names":["name","useNamespace","on","beforeEnter","el","dataset","oldPaddingTop","style","paddingTop","oldPaddingBottom","paddingBottom","maxHeight","enter","oldOverflow","overflow","scrollHeight","afterEnter","beforeLeave","leave","afterLeave"],"sources":["../../../../../../packages/components/collapse-transition/src/collapse-transition.vue"],"sourcesContent":["<template>\n  <transition :name=\"ns.b()\" v-on=\"on\">\n    <slot />\n  </transition>\n</template>\n<script lang=\"ts\" setup>\nimport { useNamespace } from '@element-plus/hooks'\nimport type { RendererElement } from '@vue/runtime-core'\n\ndefineOptions({\n  name: 'ElCollapseTransition',\n})\n\nconst ns = useNamespace('collapse-transition')\n\nconst on = {\n  beforeEnter(el: RendererElement) {\n    if (!el.dataset) el.dataset = {}\n\n    el.dataset.oldPaddingTop = el.style.paddingTop\n    el.dataset.oldPaddingBottom = el.style.paddingBottom\n\n    el.style.maxHeight = 0\n    el.style.paddingTop = 0\n    el.style.paddingBottom = 0\n  },\n\n  enter(el: RendererElement) {\n    el.dataset.oldOverflow = el.style.overflow\n    if (el.scrollHeight !== 0) {\n      el.style.maxHeight = `${el.scrollHeight}px`\n      el.style.paddingTop = el.dataset.oldPaddingTop\n      el.style.paddingBottom = el.dataset.oldPaddingBottom\n    } else {\n      el.style.maxHeight = 0\n      el.style.paddingTop = el.dataset.oldPaddingTop\n      el.style.paddingBottom = el.dataset.oldPaddingBottom\n    }\n\n    el.style.overflow = 'hidden'\n  },\n\n  afterEnter(el: RendererElement) {\n    el.style.maxHeight = ''\n    el.style.overflow = el.dataset.oldOverflow\n  },\n\n  beforeLeave(el: RendererElement) {\n    if (!el.dataset) el.dataset = {}\n    el.dataset.oldPaddingTop = el.style.paddingTop\n    el.dataset.oldPaddingBottom = el.style.paddingBottom\n    el.dataset.oldOverflow = el.style.overflow\n\n    el.style.maxHeight = `${el.scrollHeight}px`\n    el.style.overflow = 'hidden'\n  },\n\n  leave(el: RendererElement) {\n    if (el.scrollHeight !== 0) {\n      el.style.maxHeight = 0\n      el.style.paddingTop = 0\n      el.style.paddingBottom = 0\n    }\n  },\n\n  afterLeave(el: RendererElement) {\n    el.style.maxHeight = ''\n    el.style.overflow = el.dataset.oldOverflow\n    el.style.paddingTop = el.dataset.oldPaddingTop\n    el.style.paddingBottom = el.dataset.oldPaddingBottom\n  },\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}