{"ast":null,"code":"import { isClient } from '@vueuse/core';\nlet isDragging = false;\n\nfunction draggable(element, options) {\n  if (!isClient) return;\n\n  const moveFn = function (event) {\n    var _a;\n\n    (_a = options.drag) == null ? void 0 : _a.call(options, event);\n  };\n\n  const upFn = function (event) {\n    var _a;\n\n    document.removeEventListener(\"mousemove\", moveFn);\n    document.removeEventListener(\"mouseup\", upFn);\n    document.removeEventListener(\"touchmove\", moveFn);\n    document.removeEventListener(\"touchend\", upFn);\n    document.onselectstart = null;\n    document.ondragstart = null;\n    isDragging = false;\n    (_a = options.end) == null ? void 0 : _a.call(options, event);\n  };\n\n  const downFn = function (event) {\n    var _a;\n\n    if (isDragging) return;\n    event.preventDefault();\n\n    document.onselectstart = () => false;\n\n    document.ondragstart = () => false;\n\n    document.addEventListener(\"mousemove\", moveFn);\n    document.addEventListener(\"mouseup\", upFn);\n    document.addEventListener(\"touchmove\", moveFn);\n    document.addEventListener(\"touchend\", upFn);\n    isDragging = true;\n    (_a = options.start) == null ? void 0 : _a.call(options, event);\n  };\n\n  element.addEventListener(\"mousedown\", downFn);\n  element.addEventListener(\"touchstart\", downFn);\n}\n\nexport { draggable };","map":{"version":3,"mappings":";AACA,IAAIA,UAAU,GAAG,KAAjB;;AACO,SAASC,SAAT,CAAmBC,OAAnB,EAA4BC,OAA5B,EAAqC;EAC1C,IAAI,CAACC,QAAL,EACE;;EACF,MAAMC,MAAM,GAAG,UAASC,KAAT,EAAgB;IAC7B,IAAIC,EAAJ;;IACA,CAACA,EAAE,GAAGJ,OAAO,CAACK,IAAd,KAAuB,IAAvB,GAA8B,KAAK,CAAnC,GAAuCD,EAAE,CAACE,IAAH,CAAQN,OAAR,EAAiBG,KAAjB,CAAvC;EACD,CAHD;;EAIA,MAAMI,IAAI,GAAG,UAASJ,KAAT,EAAgB;IAC3B,IAAIC,EAAJ;;IACAI,QAAQ,CAACC,mBAAT,CAA6B,WAA7B,EAA0CP,MAA1C;IACAM,QAAQ,CAACC,mBAAT,CAA6B,SAA7B,EAAwCF,IAAxC;IACAC,QAAQ,CAACC,mBAAT,CAA6B,WAA7B,EAA0CP,MAA1C;IACAM,QAAQ,CAACC,mBAAT,CAA6B,UAA7B,EAAyCF,IAAzC;IACAC,QAAQ,CAACE,aAAT,GAAyB,IAAzB;IACAF,QAAQ,CAACG,WAAT,GAAuB,IAAvB;IACAd,UAAU,GAAG,KAAb;IACA,CAACO,EAAE,GAAGJ,OAAO,CAACY,GAAd,KAAsB,IAAtB,GAA6B,KAAK,CAAlC,GAAsCR,EAAE,CAACE,IAAH,CAAQN,OAAR,EAAiBG,KAAjB,CAAtC;EACD,CAVD;;EAWA,MAAMU,MAAM,GAAG,UAASV,KAAT,EAAgB;IAC7B,IAAIC,EAAJ;;IACA,IAAIP,UAAJ,EACE;IACFM,KAAK,CAACW,cAAN;;IACAN,QAAQ,CAACE,aAAT,GAAyB,MAAM,KAA/B;;IACAF,QAAQ,CAACG,WAAT,GAAuB,MAAM,KAA7B;;IACAH,QAAQ,CAACO,gBAAT,CAA0B,WAA1B,EAAuCb,MAAvC;IACAM,QAAQ,CAACO,gBAAT,CAA0B,SAA1B,EAAqCR,IAArC;IACAC,QAAQ,CAACO,gBAAT,CAA0B,WAA1B,EAAuCb,MAAvC;IACAM,QAAQ,CAACO,gBAAT,CAA0B,UAA1B,EAAsCR,IAAtC;IACAV,UAAU,GAAG,IAAb;IACA,CAACO,EAAE,GAAGJ,OAAO,CAACgB,KAAd,KAAwB,IAAxB,GAA+B,KAAK,CAApC,GAAwCZ,EAAE,CAACE,IAAH,CAAQN,OAAR,EAAiBG,KAAjB,CAAxC;EACD,CAbD;;EAcAJ,OAAO,CAACgB,gBAAR,CAAyB,WAAzB,EAAsCF,MAAtC;EACAd,OAAO,CAACgB,gBAAR,CAAyB,YAAzB,EAAuCF,MAAvC;AACF","names":["isDragging","draggable","element","options","isClient","moveFn","event","_a","drag","call","upFn","document","removeEventListener","onselectstart","ondragstart","end","downFn","preventDefault","addEventListener","start"],"sources":["../../../../../../../packages/components/color-picker/src/utils/draggable.ts"],"sourcesContent":["import { isClient } from '@vueuse/core'\n\nlet isDragging = false\n\nexport interface DraggableOptions {\n  drag?: (event: MouseEvent | TouchEvent) => void\n  start?: (event: MouseEvent | TouchEvent) => void\n  end?: (event: MouseEvent | TouchEvent) => void\n}\n\nexport function draggable(element: HTMLElement, options: DraggableOptions) {\n  if (!isClient) return\n\n  const moveFn = function (event: MouseEvent | TouchEvent) {\n    options.drag?.(event)\n  }\n\n  const upFn = function (event: MouseEvent | TouchEvent) {\n    document.removeEventListener('mousemove', moveFn)\n    document.removeEventListener('mouseup', upFn)\n    document.removeEventListener('touchmove', moveFn)\n    document.removeEventListener('touchend', upFn)\n    document.onselectstart = null\n    document.ondragstart = null\n\n    isDragging = false\n\n    options.end?.(event)\n  }\n\n  const downFn = function (event: MouseEvent | TouchEvent) {\n    if (isDragging) return\n    event.preventDefault()\n    document.onselectstart = () => false\n    document.ondragstart = () => false\n    document.addEventListener('mousemove', moveFn)\n    document.addEventListener('mouseup', upFn)\n    document.addEventListener('touchmove', moveFn)\n    document.addEventListener('touchend', upFn)\n\n    isDragging = true\n\n    options.start?.(event)\n  }\n\n  element.addEventListener('mousedown', downFn)\n  element.addEventListener('touchstart', downFn)\n}\n"]},"metadata":{},"sourceType":"module"}